#pragma once
#include <Windows.h>

#ifndef _GOLSHI_H_
#define _GOLSHI_H_

#define IOCTL(Function) CTL_CODE(FILE_DEVICE_UNKNOWN, Function, METHOD_NEITHER, FILE_ANY_ACCESS)

#define IOCTL_HIRE_TRAINER          IOCTL(0)
#define IOCTL_FORCE_RESIGN_TRAINER  IOCTL(1)
#define IOCTL_NEW_FOAL              IOCTL(2)
#define IOCTL_RETIRE_STALLION       IOCTL(3)
#define IOCTL_SET_TRAINER           IOCTL(4)
#define IOCTL_SET_STALLION          IOCTL(5)
#define IOCTL_FEED_STALLION         IOCTL(6)
#define IOCTL_TRAIN_STALLION        IOCTL(7)
#define IOCTL_GET_TRAINER_NAME      IOCTL(8)
#define IOCTL_GET_STALLION_NAME     IOCTL(9)

#define MAX_NAME_LENGTH		    0x28
#define MAX_HORSE_AT_ONETIME    0x20
#define MAX_SPEED               0x71
#define HORSE_TAG		        'sroh'
#define TRAINER_TAG             'iart'
#define STABLE_CAPACITY		    0x8

typedef struct _REQUEST {
    ULONG TrainerIdx;
    ULONG TimeSpent;
    ULONG FoodInKg;
    ULONG Length;
    ULONG HorseIdx;
    PCHAR Name;
    PCHAR OutputBuffer;
} REQUEST, * PREQUEST;

typedef struct _HORSE {
    CHAR Name[MAX_NAME_LENGTH];
    ULONG Speed;
    ULONG Weight;
} HORSE, * PHORSE;

typedef struct _TRAINER {
    ULONG Size;
    PHORSE Horses[1];
    // CHAR Name[MAX_NAME_LENGTH];
} TRAINER, * PTRAINER;

#endif // _GOLSHI_H_